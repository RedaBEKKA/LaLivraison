{"ast":null,"code":"import ACTIONS from './index';\nimport axios from 'axios';\nexport const dispatchLogin = () => {\n  return {\n    type: ACTIONS.LOGIN\n  };\n};\nexport const fetchUser = async token => {\n  // console.log(`token 1 fetchUser`, token)\n  const res = await axios.get('/user/info', {\n    headers: {\n      'x-access-token': token\n    }\n  }); //console.log(`res`, res)\n\n  return res;\n};\nexport const dispatchGetUser = res => {\n  console.log(`res dispatch`, res.data);\n  return {\n    type: ACTIONS.GET_USER,\n    payload: {\n      user: res.data,\n      isAdmin: res.data.role === 1 ? true : false\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/BigNova Deliv/LaLivraison/front/src/redux/actions/authAction.js"],"names":["ACTIONS","axios","dispatchLogin","type","LOGIN","fetchUser","token","res","get","headers","dispatchGetUser","console","log","data","GET_USER","payload","user","isAdmin","role"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAEH,OAAO,CAACI;AADX,GAAP;AAGH,CAJM;AAKP,OAAO,MAAMC,SAAS,GAAG,MAAOC,KAAP,IAAiB;AACtC;AACA,QAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,YAAV,EAAwB;AACtCC,IAAAA,OAAO,EAAE;AACL,wBAAkBH;AADb;AAD6B,GAAxB,CAAlB,CAFsC,CAOtC;;AACA,SAAOC,GAAP;AACH,CATM;AAUP,OAAO,MAAMG,eAAe,GAAIH,GAAD,IAAS;AACpCI,EAAAA,OAAO,CAACC,GAAR,CAAa,cAAb,EAA4BL,GAAG,CAACM,IAAhC;AAEA,SAAO;AACHV,IAAAA,IAAI,EAAEH,OAAO,CAACc,QADX;AAEHC,IAAAA,OAAO,EAAE;AACLC,MAAAA,IAAI,EAAET,GAAG,CAACM,IADL;AAGLI,MAAAA,OAAO,EAAEV,GAAG,CAACM,IAAJ,CAASK,IAAT,KAAkB,CAAlB,GAAsB,IAAtB,GAA6B;AAHjC;AAFN,GAAP;AAQH,CAXM","sourcesContent":["import ACTIONS from './index'\r\nimport axios from 'axios'\r\n\r\nexport const dispatchLogin = () => {\r\n    return {\r\n        type: ACTIONS.LOGIN\r\n    }\r\n}\r\nexport const fetchUser = async (token) => {\r\n    // console.log(`token 1 fetchUser`, token)\r\n    const res = await axios.get('/user/info', {\r\n        headers: {\r\n            'x-access-token': token\r\n        }\r\n    })\r\n    //console.log(`res`, res)\r\n    return res\r\n}\r\nexport const dispatchGetUser = (res) => {\r\n    console.log(`res dispatch`, res.data)\r\n\r\n    return {\r\n        type: ACTIONS.GET_USER,\r\n        payload: {\r\n            user: res.data,\r\n\r\n            isAdmin: res.data.role === 1 ? true : false\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}