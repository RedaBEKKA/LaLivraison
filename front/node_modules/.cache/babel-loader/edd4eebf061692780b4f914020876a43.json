{"ast":null,"code":"import ACTIONS from './index';\nimport axios from 'axios';\nexport const dispatchLogin = () => {\n  return {\n    type: ACTIONS.LOGIN\n  };\n};\nexport const fetchUser = async token => {\n  console.log(`token 1 fetchUserfetchUserfetchUser`, token); // Headers: {'x-access-token': token}\n  // const config = {\n  //     withCredentials: true,\n  //     headers: {\n  //         // 'Access-Control-Allow-Origin': '*',\n  //         // 'accept': 'application/json',\n  //         // 'Content-Type': 'application/json',\n  //         Authorization: token,\n  //         //    'Content-type': 'application/json',\n  //         //    'Access-Control-Allow-Headers':{ 'x-access-token': token },\n  //         //    'X-WP-Nonce': 'my-wp-nonce-here',\n  //     },\n  // };\n  // const res = await axios.get('/user/info', {\n  //     config\n  // })\n\n  const res = await axios.get('/user/info', {\n    headers: {\n      // \"Authorization\": token\n      'Access-Control-Allow-Headers': {\n        'Authorization': token\n      },\n      'Content-type': 'application/json'\n    }\n  });\n  console.log(`res`, res);\n  return res;\n};\nexport const dispatchGetUser = res => {\n  return {\n    type: ACTIONS.GET_USER,\n    payload: {\n      user: res.data //isAdmin: res.data.role === 1 ? true : false\n\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/BigNova Deliv/LaLivraison/front/src/redux/actions/authAction.js"],"names":["ACTIONS","axios","dispatchLogin","type","LOGIN","fetchUser","token","console","log","res","get","headers","dispatchGetUser","GET_USER","payload","user","data"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAEH,OAAO,CAACI;AADX,GAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,SAAS,GAAG,MAAOC,KAAP,IAAiB;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAa,qCAAb,EAAmDF,KAAnD,EADsC,CAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA,QAAMG,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,YAAV,EAAwB;AACtCC,IAAAA,OAAO,EAAE;AACL;AACA,sCAA+B;AAAE,yBAAiBL;AAAnB,OAF1B;AAGL,sBAAgB;AAHX;AAD6B,GAAxB,CAAlB;AAOAC,EAAAA,OAAO,CAACC,GAAR,CAAa,KAAb,EAAmBC,GAAnB;AACA,SAAOA,GAAP;AACH,CA7BM;AA+BP,OAAO,MAAMG,eAAe,GAAIH,GAAD,IAAS;AACpC,SAAO;AACHN,IAAAA,IAAI,EAAEH,OAAO,CAACa,QADX;AAEHC,IAAAA,OAAO,EAAE;AACLC,MAAAA,IAAI,EAAEN,GAAG,CAACO,IADL,CAGL;;AAHK;AAFN,GAAP;AAQH,CATM","sourcesContent":["import ACTIONS from './index'\r\nimport axios from 'axios'\r\n\r\nexport const dispatchLogin = () => {\r\n    return {\r\n        type: ACTIONS.LOGIN\r\n    }\r\n}\r\n\r\nexport const fetchUser = async (token) => {\r\n    console.log(`token 1 fetchUserfetchUserfetchUser`, token)\r\n    // Headers: {'x-access-token': token}\r\n    // const config = {\r\n    //     withCredentials: true,\r\n    //     headers: {\r\n    //         // 'Access-Control-Allow-Origin': '*',\r\n    //         // 'accept': 'application/json',\r\n    //         // 'Content-Type': 'application/json',\r\n    //         Authorization: token,\r\n\r\n    //         //    'Content-type': 'application/json',\r\n    //         //    'Access-Control-Allow-Headers':{ 'x-access-token': token },\r\n    //         //    'X-WP-Nonce': 'my-wp-nonce-here',\r\n\r\n    //     },\r\n    // };\r\n    // const res = await axios.get('/user/info', {\r\n    //     config\r\n    // })\r\n    const res = await axios.get('/user/info', {\r\n        headers: { \r\n            // \"Authorization\": token\r\n            'Access-Control-Allow-Headers':{ 'Authorization': token },\r\n            'Content-type': 'application/json',\r\n        }\r\n    })\r\n    console.log(`res`, res)\r\n    return res\r\n}\r\n\r\nexport const dispatchGetUser = (res) => {\r\n    return {\r\n        type: ACTIONS.GET_USER,\r\n        payload: {\r\n            user: res.data,\r\n\r\n            //isAdmin: res.data.role === 1 ? true : false\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}